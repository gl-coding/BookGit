# 后记

随着经济全球化的发展，人与人之间的信息互联越来越密切，移动互联网服务在人们的生活中越来越重要。智能终端为人们提供了快捷的计算服务，而以云计算为终端的移动网络提供着云端的网络和数据分析服务，业界对移动互联网中的两种端设备相关服务的改进投入了巨大的精力。

在短短的十几年间，随着移动通信技术和移动端设备的发展，终端系统已成长为提供综合服务的微型计算机，移动端设备在硬件和操作系统的发展方面越来越多样化。为了吸引大量客户流量，开发者需要将成熟的、或者经过优化的软件移植到多种操作系统上。不同的操作系统导致软件的开发语言、开发环境不同，所以在多种操作系统上进行软件移植，工作复杂且繁琐。本文的跨OS汇编转换器可以帮助工程师快速的将汇编代码转换到多种的目标操作系统上，提高软件复用率。

##总结

云计算技术为移动终端提供弹性分配资源的网络服务，云端大数据服务为智能终端提供数据分析服务。高效的利用向服务商申请的资源来进行大数据计算是用户关心的问题。本文针对云计算服务商提供服务方案的不足，以Spark分布式计算框架为研究对象，提出面向Spark的自动资源推荐方案，为用户在申请云端资源时提供高效、合理的资源配置推荐方案。

本文的贡献主要有：

1. 设计实现了跨OS汇编转换器。该工具解决了不同OS之间汇编格式的差异、ABI不一致问题，并通过在源汇编中插入目标平台的衔接汇编代码，可以支持将多种编译器编译的汇编代码转换到多个目标移动终端系统中直接运行。

2. 设计实现了面向Spark的自动资源推荐工具。该工具提出一种两阶段资源配比在线分析工具，采用细粒度+粗粒度的分析方法完成应用关键特征与合理资源配比之间的关系分析，为用户推荐一个合理的资源配置组合。此外，该工具还基于Spark程序历史运行数据的学习，为应用建立资源配置模型，根据输入集的尺寸特征，为用户推荐合理的资源配置。

## 下一步工作计划

面向云端节点的编译和运行优化辅助工具分别在移动终端和云计算端服务提出了改进方案，本文验证了方案可行性和效果，未来我们还需要进一步的工作来完善该工具的功能。

目前，跨OS汇编转换器还需要在两方面进行改进：

1）支持向更多类型的目标平台进行汇编转换；

2）在转换规则库中的添加更多规则支持更多软件的转换。

1. 跨OS汇编转换器对Linux环境向iOS和嵌入式移动终端的支持较好，对向Android和Windows Phone平台的转换支持的测试用例较少。下一步的工作，本文将使跨OS汇编转换器对各个平台的支持更为完善，并提供对新平台的支持。

2. 跨OS汇编转换器测试用例是典型的标准测试程序，更多的测试用例会使跨OS汇编转换器转换得到的汇编代码更为健壮，下一步我们将选择更多的标准测试程序进行测试，并使用一些开源产品的源码进行测试，解决新出现的问题，将相应的规则写入汇编转换器中。

面向Spark的自动资源推荐工具还需要在两方面进行改进：1）考虑更多的程序特征和输入数据集特征；2）统一考虑Executor内的资源和Executor个数这两个与CPU、内存资源相关的参数在解决资源分配中的耦合问题，考虑大规模问题对参数配置的影响。

1. 本工具的模型主要依据执行时间、任务图等程序特征以及输入数据集的尺寸特征。在下一步的工作中我们考虑更多因素进来，比如程序在运行时体系结构特征、输入数据集的稀疏特征，从而使该工具的程序的描述模型更为准确，并更好地预测程序行为。

2. Spark程序中Executor个数和Executor内的Core个数共同决定了整个程序在一个节点内的CPU资源申请数。在当前的算法中我们先决定单个Spark Executor内的资源配置再决定Executor的数量，将来我们可以采用动态规划的方法调整Core和Memory资源，并与当前算法的效果进行对比。我们还要针对更大规模问题，研究该工具在扩展到多节点部署的情况下节点之间的通信对资源分配的影响。